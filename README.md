# 🚀 BTC 10分钟价格预测系统 - AI增强版

基于机器学习和AI大模型的比特币价格预测工具，支持Windows平台。

## ✨ 核心功能

- **机器学习预测**：使用随机森林、梯度提升等4种模型集成预测
- **AI增强分析**：支持DeepSeek和Grok-4进行深度市场分析
- **实时数据**：通过币安API获取实时BTC价格和K线数据
- **可视化界面**：tkinter GUI界面，操作简单直观
- **灵活配置**：可自定义预测间隔（1/3/5/10/15/30/60分钟）

---

## 🚀 快速启动

### 1. 运行程序

```bash
run.bat
```

### 2. 首次使用

1. 启动后切换到"模型训练"标签页
2. 点击"开始训练模型"（等待1-3分钟）
3. 训练完成后切换到"仪表板"
4. 选择预测间隔时间
5. 点击"单次预测"或"开始自动预测"

---

## 🤖 AI增强配置

### 配置文件

复制 `.env.example` 为 `.env` 并填入配置：

```bash
# 选择AI提供商: deepseek 或 grok
AI_PROVIDER=grok

# 启用AI分析
ENABLE_AI_ANALYSIS=true

# Grok-4 配置（NewAPI接口）
GROK_API_KEY=你的API密钥
GROK_BASE_URL=https://api.voct.top/v1
GROK_MODEL=grok-4-fast-expert

# DeepSeek 配置
DEEPSEEK_API_KEY=你的API密钥
```

### AI提供商选择

**Grok-4 (推荐)**
- 通过NewAPI接口调用
- 兼容OpenAI API格式
- 模型：grok-4-fast-expert
- 快速响应，深度分析

**DeepSeek**
- 官方API接口
- 模型：deepseek-chat
- 成本较低

---

## 📊 界面说明

### 仪表板

**预测控制**
- 自动预测间隔：下拉选择1/3/5/10/15/30/60分钟
- 单次预测：立即进行一次预测
- 开始自动预测：按设定间隔自动预测
- 停止自动预测：停止自动循环
- 实时倒计时：显示下次预测时间

**预测结果**
- ⏰ 预测时间
- 💰 当前BTC价格
- 📈/📉 预测方向（上涨/下跌）
- 置信度百分比
- 💡 交易建议（强烈推荐/推荐/观望）

### 模型训练

- 开始训练模型：获取数据并训练4种模型
- 训练结果显示：模型性能指标
- 训练时间：1-3分钟

### 系统统计

- 模型状态
- 预测次数统计
- 系统配置信息

---

## 📁 项目结构

```
合约事件十分钟预测/
├── btc_predictor.py          # 主程序
├── deepseek_analyzer.py      # DeepSeek AI分析器
├── grok_analyzer.py          # Grok-4 AI分析器
├── config_loader.py          # 配置加载器
├── run.bat                   # Windows启动脚本
├── reset_venv.bat            # 虚拟环境重置工具
├── requirements.txt          # 依赖列表
├── .env.example              # 配置示例
├── .env                      # 配置文件（需自建）
├── models/                   # 模型目录
│   └── models.pkl           # 训练好的模型
└── venv/                     # Python虚拟环境
```

---

## 🔧 技术架构

### 机器学习模型

- **随机森林** (Random Forest)
- **梯度提升** (Gradient Boosting)
- **逻辑回归** (Logistic Regression)
- **神经网络** (MLP)

### 技术指标（23个）

**价格特征**
- 1/5/10分钟收益率
- SMA(5/10/20/50)移动平均线
- 价格偏离度

**动量指标**
- RSI(6/14)相对强弱指标
- 成交量比率

**波动率**
- 10周期波动率
- 价格范围
- K线实体大小

### AI分析流程

1. 机器学习模型生成初步预测
2. AI分析器获取技术指标和市场数据
3. AI进行深度分析和风险评估
4. 生成综合预测结果和建议

---

## 🐛 常见问题

### 虚拟环境错误

**问题**：系统找不到指定的路径、编码错误

**解决**：
```bash
reset_venv.bat
```

### 依赖安装失败

**解决**：
```bash
pip install -r requirements.txt
```

### AI分析不可用

**检查**：
1. `.env` 文件是否存在
2. API密钥是否正确
3. AI_PROVIDER设置是否正确
4. 网络连接是否正常

### 模型训练失败

**原因**：
- 网络连接问题
- 数据获取失败

**解决**：
- 检查网络连接
- 重试训练
- 查看终端错误信息

---

## 📦 依赖库

```
requests>=2.31.0       # HTTP请求
pandas>=2.0.0          # 数据处理
numpy>=1.24.0          # 数值计算
scikit-learn>=1.3.0    # 机器学习
openai>=1.0.0          # AI接口
colorama>=0.4.6        # 终端彩色输出
```

---

## ⚠️ 免责声明

1. **仅供学习**：本系统仅用于学习机器学习和量化交易技术
2. **非投资建议**：预测结果不应作为投资决策的唯一依据
3. **风险自负**：实际交易的任何损失由用户自行承担
4. **市场风险**：加密货币市场波动巨大，请谨慎决策
5. **API成本**：使用AI功能会产生API调用费用

---

## 📝 版本历史

**v2.3** - AI多提供商支持
- ✅ 支持Grok-4和DeepSeek双AI提供商
- ✅ 可自定义预测间隔（1-60分钟）
- ✅ 实时倒计时显示
- ✅ 简化预测结果展示

**v2.2** - 界面优化
- ✅ 清空内容再预测
- ✅ 简洁的结果显示
- ✅ 自动预测提示

**v2.1** - 虚拟环境修复
- ✅ 修复编码问题
- ✅ 添加依赖管理
- ✅ 优化批处理脚本

---

**版本：v2.3** | **系统：Windows** | **祝使用愉快！** 🎉

**记住：这是学习工具，不是投资建议！**
